/*! lyric-snippet - v0.2.0 - 2016-02-09
* Copyright (c) 2016 Amy Madden; Licensed  */
var LyricSnippet;LyricSnippet=function(){function a(b,c){var d,e,f,g=this;e=mytemplate["templates/terms_and_conditions_modal.tpl.html"],document.body.insertAdjacentHTML("beforeend",e),f=mytemplate["templates/wait_indicator.tpl.html"],document.body.insertAdjacentHTML("beforeend",f),d=mytemplate["templates/error.tpl.html"],document.body.insertAdjacentHTML("beforeend",d),null!=b&&(document.getElementById("terms-container").innerHTML=b),null!=c&&(this.vatmUrl=c),this.modal=a.modal=document.getElementById("tcModal"),this.waitModal=a.waitModal=document.getElementById("waitModal"),this.errorModal=a.errorModal=document.getElementById("errorModal"),this.closeButton=a.closeButton=document.getElementsByClassName("close")[0],this.closeButton.onclick=function(){return g.modal.style.display="none"},window.onclick=function(a){return a.target===g.modal&&(g.modal.style.display="none"),a.target===g.errorModal?g.errorModal.style.display="none":void 0}}return a.modal,a.waitModal,a.errorModal,a.closeButton,a.vatmUrl="https://demoservices.lyricfinancial.com",a.prototype.confirm=function(){return this.modal.style.display="block"},a.closeModal=function(){return a.modal.style.display="none",a.errorModal.style.display="none"},a.confirmed=function(){var b;return window.CustomEvent?b=new CustomEvent("confirmationComplete"):(b=document.createEvent("CustomEvent"),b.initCustomEvent("confirmationComplete",!0,!0)),document.dispatchEvent(b),a.modal.style.display="none",a.waitModal.style.display="block"},a.prototype.advanceRequestComplete=function(a){return this.waitModal.style.display="none",window.open(this.vatmUrl+"/vatm/#/advance?access_token="+a,"_blank")},a.prototype.advanceRequestError=function(a){return document.getElementById("errorMessage").innerHTML=a.statusText,this.waitModal.style.display="none",this.errorModal.style.display="block"},a}();var LyricWidget;LyricWidget=function(){function a(a){null!=a&&(this.vatmUrl=a)}var b;return a.advanceStatusData,a.vatmUrl="http://demo.dev:8082",a.prototype.loadData=function(a){var b,c,d;return d=new XMLHttpRequest,d.open("GET",this.vatmUrl+"/clients/a/advanceStatus",!0),b=this,c=new Promise(function(a,c){return d.onload=function(){return d.status>=200&&d.status<400?(b.advanceStatusData=JSON.parse(d.responseText),a("Successfully loaded data")):a("Data didn't load. Error widget will display.")},d.onerror=function(){return a("Data didn't load. Error widget will display.")},d.send()})},a.prototype.getWidget=function(){var a;return a=mytemplate["templates/advance_status_error_widget.tpl.html"],b(this.advanceStatusData)===!1&&(a=mytemplate["templates/advance_status_widget.tpl.html"],a=a.replace("{{advanceAmount}}","$"+this.advanceStatusData.advanceAmount),a=a.replace("{{amountRepaid}}","$"+this.advanceStatusData.amountRepaid),a=a.replace("{{amountRemaining}}","$"+this.advanceStatusData.amountRemaining),a=a.replace("{{availableBalance}}","$"+this.advanceStatusData.availableBalance)),a},b=function(a){return!a||/^\s*$/.test(a)},a}();var mytemplate={};mytemplate["templates/advance_status_error_widget.tpl.html"]='<div id="widget-container">\n	<h3>An error occured in the Lyric vAtm.</h3>\n</div>',mytemplate["templates/advance_status_widget.tpl.html"]='<div class="widget-container">\n	<h3>Lyric vAtm</h3>\n	<span class="widget-label">Advance Amount: </span><span class="widget-value" id="advance-amount">{{advanceAmount}}</span>\n	<br/>\n	<span class="widget-label">Amount Repaid: </span><span class="widget-value" id="amount-repaid">{{amountRepaid}}</span>\n	<br/>\n	<span class="widget-label">Amount Remaining: </span><span class="widget-value" id="amount-remaining">{{amountRemaining}}</span>\n	<br/>\n	<span class="widget-label">Available Balance: </span><span class="widget-value" id="available-balance">{{availableBalance}}</span>\n</div>',mytemplate["templates/error.tpl.html"]='<div id="errorModal" class="modal">\n\n  <!-- Modal content -->\n  <div class="modal-content">\n    <div class="modal-header">\n	    <h3>An Error Occurred</h3>\n	  </div>\n	  <div class="modal-body">\n\n			<h3>An error occurred while processing your request.</h3>\n			<p id="errorMessage"></p>\n\n	  </div>\n	  <div class="modal-footer">\n	    <button type="button" class="btn btn-white" onclick="LyricSnippet.closeModal()">Ok</button>\n	  </div>\n  </div>\n\n</div>',mytemplate["templates/terms_and_conditions_modal.tpl.html"]='<div id="tcModal" class="modal">\n\n  <!-- Modal content -->\n  <div class="modal-content">\n    <div class="modal-header">\n    	<span class="close">Ã—</span>\n	    <h3>Terms & Conditions</h3>\n	  </div>\n	  <div class="modal-body">\n\n			<div id="terms-container" class="terms">\n			  <p>Lorem ipsum dolor sit amet, <strong>consectetur</strong> adipiscing elit. Vivamus malesuada ex vel sagittis gravida. Mauris sed ligula at velit cursus volutpat. Nam sodales purus in ex iaculis, a molestie velit placerat. Vivamus tincidunt quis arcu et pharetra. Sed gravida a mauris quis porta. Quisque tempus, metus eu scelerisque tristique, tortor lorem pretium arcu, ultricies elementum nibh massa eu neque. Sed hendrerit et nibh eget varius. Pellentesque ultrices elit eget mi gravida aliquam. Maecenas nec metus eu <strong>odio viverra elementum</strong> vehicula quis metus.</p>\n\n				<p>Donec luctus ligula ac turpis consectetur, <strong>sit amet</strong> imperdiet massa lacinia. Fusce sit amet tempor tellus, a rhoncus nibh. Nulla ac erat ornare, condimentum mi vel, euismod diam.</p>\n\n				<ol>\n			  	<li>Cras vitae nisi vitae nisl luctus volutpat ac et enim. Praesent nisl lorem, efficitur sed vestibulum in, facilisis ut arcu. Curabitur dictum fermentum sapien, a pellentesque orci maximus pretium. Quisque malesuada commodo molestie. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Suspendisse potenti.</li>\n\n			  	<li>Ut viverra quis erat et efficitur. Morbi eget odio semper, vulputate erat at, commodo dolor. Morbi eleifend ipsum in magna consectetur varius. Quisque malesuada gravida arcu, nec maximus risus aliquam et. Cras hendrerit ut metus a ultrices. Nulla ac ipsum eget lacus lobortis accumsan. Pellentesque pellentesque pharetra dui id sagittis.</li>\n\n			    <li>Cras vitae nisi vitae nisl luctus volutpat ac et enim. Praesent nisl lorem, efficitur sed vestibulum in, facilisis ut arcu. Curabitur dictum fermentum sapien, a pellentesque orci maximus pretium. Quisque malesuada commodo molestie. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Suspendisse potenti.</li>\n\n			  	<li>Ut viverra quis erat et efficitur. Morbi eget odio semper, vulputate erat at, commodo dolor. Morbi eleifend ipsum in magna consectetur varius. Quisque malesuada gravida arcu, nec maximus risus aliquam et. Cras hendrerit ut metus a ultrices. Nulla ac ipsum eget lacus lobortis accumsan. Pellentesque pellentesque pharetra dui id sagittis.</li>\n\n				</ol>\n\n				<p>Pellentesque ut est sed erat bibendum venenatis. Ut ut nisl diam. Nam viverra risus vitae lectus suscipit rutrum. Aliquam ut ante eu tellus posuere volutpat. Etiam gravida nunc in est eleifend bibendum. Proin tincidunt porttitor lacus. Duis viverra, nisi ut ornare tempor, lorem nibh hendrerit nisl, in molestie sapien massa vel eros. Nullam consequat nulla quis ex dictum rhoncus. Sed id sem elementum, consectetur sem sed, consectetur felis.</p>\n\n				<p>Vivamus id imperdiet quam. Etiam pellentesque vulputate sapien, vitae vestibulum ante ornare suscipit. In vitae sapien est. Nulla quis eros eget ipsum ultrices faucibus. Curabitur velit nisl, suscipit sed nibh sit amet, scelerisque pharetra dui. Ut rhoncus, massa et condimentum tempus, augue lacus blandit lorem, et bibendum turpis purus non mauris. Ut pulvinar dictum ligula in tristique.</p>\n			</div>\n\n	  </div>\n	  <div class="modal-footer">\n	    <button type="button" class="btn btn-white" onclick="LyricSnippet.confirmed()">I Agree</button>\n	  </div>\n  </div>\n\n</div>',mytemplate["templates/wait_indicator.tpl.html"]='<div id="waitModal" class="modal">\n\n  <!-- Modal content -->\n  <div class="modal-content">\n	  <div class="modal-body">\n\n			<div class="wait-indicator">\n				<h3>Please wait while we process your request.</h3>\n				<div class="spinner">\n				  <div class="rect1"></div>\n				  <div class="rect2"></div>\n				  <div class="rect3"></div>\n				  <div class="rect4"></div>\n				  <div class="rect5"></div>\n				</div>\n			</div>\n\n	  </div>\n  </div>\n\n</div>';